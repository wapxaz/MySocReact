"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[344],{344:(t,s,e)=>{e.r(s),e.d(s,{default:()=>N});var o=e(9060);const i="ProfileInfo_descriptionBlock__XBXuJ",r="ProfileInfo_fullName__3fR7R",a="ProfileInfo_profileAvatar__2yGqg";var l=e(2484),n=e(8616),c=e(2496);const p=t=>{let[s,e]=(0,o.useState)(!1),[i,r]=(0,o.useState)(t.status);(0,o.useEffect)((()=>{r(t.status)}),[t.status]);return(0,c.jsxs)("div",{children:[!s&&(0,c.jsx)("div",{children:(0,c.jsx)("span",{onDoubleClick:()=>{e(!0)},children:t.status||"-----"})}),s&&(0,c.jsx)("div",{children:(0,c.jsx)("input",{value:i,onBlur:()=>{e(!1),t.updateStatus(i)},onChange:t=>{r(t.currentTarget.value)},autoFocus:!0})})]})},u=t=>{if(!t.profile)return(0,c.jsx)(l.c,{});return(0,c.jsx)("div",{children:(0,c.jsxs)("div",{className:i,children:[(0,c.jsxs)("div",{className:a,children:[(0,c.jsx)("img",{src:t.profile.photos.large?t.profile.photos.large:n}),t.isOwner&&(0,c.jsx)("input",{type:"file",onChange:s=>{s.target.files.length&&t.savePhoto(s.target.files[0])}})]}),(0,c.jsx)("div",{className:r,children:t.profile.fullName}),(0,c.jsxs)("div",{children:["Looking for a job: ",t.profile.lookingForAJob?"Yes":"No"]}),(0,c.jsx)(p,{status:t.status,updateStatus:t.updateStatus}),t.profile.contacts.github||t.profile.contacts.vk||t.profile.contacts.facebook||t.profile.contacts.instagram||t.profile.contacts.twitter||t.profile.contacts.website||t.profile.contacts.youtube||t.profile.contacts.mainLink?(0,c.jsx)("div",{children:"Contacts:"}):"",null!==t.profile.contacts.github?(0,c.jsxs)("div",{children:["github: ",t.profile.contacts.github]}):"",null!==t.profile.contacts.vk?(0,c.jsxs)("div",{children:["vk: ",t.profile.contacts.vk]}):"",null!==t.profile.contacts.facebook?(0,c.jsxs)("div",{children:["facebook: ",t.profile.contacts.facebook]}):"",null!==t.profile.contacts.instagram?(0,c.jsxs)("div",{children:["instagram: ",t.profile.contacts.instagram]}):"",null!==t.profile.contacts.twitter?(0,c.jsxs)("div",{children:["twitter: ",t.profile.contacts.twitter]}):"",null!==t.profile.contacts.website?(0,c.jsxs)("div",{children:["website: ",t.profile.contacts.website]}):"",null!==t.profile.contacts.youtube?(0,c.jsxs)("div",{children:["youtube: ",t.profile.contacts.youtube]}):"",null!==t.profile.contacts.mainLink?(0,c.jsxs)("div",{children:["mainLink: ",t.profile.contacts.mainLink]}):""]})})};var d=e(9972);const f="MyPosts_postBlock__dvM-z",h="MyPosts_posts__GSiZ2",v="Post_item__Yu4oG",m=t=>(0,c.jsxs)("div",{className:v,children:[(0,c.jsx)("img",{src:"https://imgix.bustle.com/uploads/image/2022/12/22/bc9d8fc7-5855-431a-820c-51ebeb6c7fcf-3e2ba297-d13b-4d9c-b91c-622b2c9a46dd-avatar-the-way-of-water612-4.jpg?w=350&fit=crop&crop=faces&auto=format%2Ccompress"}),t.message,(0,c.jsx)("div",{children:(0,c.jsxs)("span",{children:[t.likeCount," like(s)"]})})]});var x=e(9256),j=e(9464),g=e(1960),b=e(2628);const P=(0,j.c)({form:"addNewPostForm"})((t=>(0,c.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,c.jsx)("div",{children:(0,c.jsx)(x.c,{component:b.I,name:"newPost",placeholder:"Enter new post",validate:[g.a,(0,g.w)(15)]})}),(0,c.jsx)("div",{children:(0,c.jsx)("button",{children:"Add post"})})]}))),w=o.memo((t=>{let s=[...t.posts].reverse().map((t=>(0,c.jsx)(m,{message:t.post,likeCount:t.likeCount},t.id)));return(0,c.jsxs)("div",{className:f,children:[(0,c.jsx)("h3",{children:"My posts"}),(0,c.jsx)(P,{onSubmit:s=>{t.addPost(s.newPost)}}),(0,c.jsx)("div",{className:h,children:s})]})}));var k=e(624);const _=(0,k.Ul)((t=>({posts:t.profilePage.posts,newPostText:t.profilePage.newPostText})),(t=>({addPost:s=>{t((0,d.GO)(s))}})))(w),S=t=>(0,c.jsxs)("div",{children:[(0,c.jsx)(u,{isOwner:t.isOwner,profile:t.profile,status:t.status,updateStatus:t.updateStatus,savePhoto:t.savePhoto}),(0,c.jsx)(_,{store:t.store})]});e(2520);var y=e(5773),I=e(1560);class C extends o.Component{refreshProfile(){let t=this.props.router.params.profileId;t||(t=this.props.currentUserId,t||window.location.replace("/login")),this.props.getProfile(t),this.props.getStatus(t)}componentDidMount(){this.refreshProfile()}componentDidUpdate(t,s,e){this.props.router.params.profileId!=t.router.params.profileId&&this.refreshProfile()}render(){return(0,c.jsx)("div",{children:(0,c.jsx)(S,{...this.props,isOwner:!this.props.router.params.profileId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto})})}}const N=(0,y.Jn)((t=>function(s){let e=(0,I.IT)(),o=(0,I.i6)(),i=(0,I.W4)();return(0,c.jsx)(t,{...s,router:{location:e,navigate:o,params:i}})}),(0,k.Ul)((t=>({profile:t.profilePage.profile,currentUserId:t.auth.userId,isAuth:t.auth.isAuth,status:t.profilePage.status})),{getProfile:d.u_,getStatus:d.g3,updateStatus:d.u6,savePhoto:d.Eb}))(C)},8616:(t,s,e)=>{t.exports=e.p+"static/media/avatar_default.99b08e94f781d8d8eef4.png"}}]);
//# sourceMappingURL=344.92ec67a4.chunk.js.map