{"version":3,"file":"static/js/344.92ec67a4.chunk.js","mappings":"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","sources":["webpack://my-app/./src/components/Profile/ProfileInfo/ProfileInfo.module.css?ead2","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","webpack://my-app/./src/components/Profile/MyPosts/MyPosts.module.css?831b","webpack://my-app/./src/components/Profile/MyPosts/Post/Post.module.css?87e6","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","hoc/withRouter.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__XBXuJ\",\"fullName\":\"ProfileInfo_fullName__3fR7R\",\"profileAvatar\":\"ProfileInfo_profileAvatar__2yGqg\"};","import React, { useEffect, useState } from 'react';\n\nconst ProfileStatusWithHooks = (props) => {\n    let [editMode, setEditMode] = useState(false);\n    let [status, setStatus] = useState(props.status);\n\n    useEffect(() => {\n        setStatus(props.status);\n    }, [props.status]);\n\n    const activateEditMode = () => {\n        setEditMode(true);\n    }\n\n    const deactivateEditMode = () => {\n        setEditMode(false);\n        props.updateStatus(status);\n    }\n\n    const onStatusChange = (e) => {\n        setStatus(e.currentTarget.value);\n    }\n\n    return (<div>\n        {!editMode &&\n            <div>\n                <span onDoubleClick={activateEditMode}>\n                    {props.status || \"-----\"}\n                </span>\n            </div>\n        }\n        {editMode &&\n            <div>\n                <input value={status} onBlur={deactivateEditMode} onChange={onStatusChange} autoFocus={true} />\n            </div>\n        }\n    </div>\n    );\n}\n\nexport default ProfileStatusWithHooks;","import React from 'react';\nimport s from './ProfileInfo.module.css';\nimport Preloader from '../../common/Preloader/Preloader';\nimport defaultAvatar from '../../../assets/images/avatar_default.png';\n//import ProfileStatus from './ProfileStatus';\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\n\nconst ProfileInfo = (props) => {\n  if (!props.profile) {\n    return <Preloader />;\n  }\n\n  const onMainPhotoSelected = (e) => {\n    if(e.target.files.length)\n    {\n      props.savePhoto(e.target.files[0]);\n    }\n  }\n\n  return (\n    <div>\n      <div className={s.descriptionBlock}>\n        <div className={s.profileAvatar}>\n            <img src={props.profile.photos.large\n            ? props.profile.photos.large\n            : defaultAvatar} />\n            {props.isOwner && <input type={\"file\"} onChange={onMainPhotoSelected}/>}\n          </div>\n        <div className={s.fullName}>{props.profile.fullName}</div>\n        <div>Looking for a job: {props.profile.lookingForAJob ? 'Yes' : 'No'}</div>\n\n        <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus} />\n\n        {(props.profile.contacts.github \n        || props.profile.contacts.vk\n        || props.profile.contacts.facebook\n        || props.profile.contacts.instagram\n        || props.profile.contacts.twitter\n        || props.profile.contacts.website\n        || props.profile.contacts.youtube\n        || props.profile.contacts.mainLink)\n          ? <div>Contacts:</div>\n          : ''}\n\n        {props.profile.contacts.github !== null ? <div>github: {props.profile.contacts.github}</div> : ''}\n        {props.profile.contacts.vk !== null ? <div>vk: {props.profile.contacts.vk}</div> : ''}\n        {props.profile.contacts.facebook !== null ? <div>facebook: {props.profile.contacts.facebook}</div> : ''}\n        {props.profile.contacts.instagram !== null ? <div>instagram: {props.profile.contacts.instagram}</div> : ''}\n        {props.profile.contacts.twitter !== null ? <div>twitter: {props.profile.contacts.twitter}</div> : ''}\n        {props.profile.contacts.website !== null ? <div>website: {props.profile.contacts.website}</div> : ''}\n        {props.profile.contacts.youtube !== null ? <div>youtube: {props.profile.contacts.youtube}</div> : ''}\n        {props.profile.contacts.mainLink !== null ? <div>mainLink: {props.profile.contacts.mainLink}</div> : ''}\n\n      </div>\n    </div>\n  );\n}\n\nexport default ProfileInfo;","// extracted by mini-css-extract-plugin\nexport default {\"postBlock\":\"MyPosts_postBlock__dvM-z\",\"posts\":\"MyPosts_posts__GSiZ2\"};","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"Post_item__Yu4oG\"};","import React from 'react';\nimport s from './Post.module.css';\n\nconst Post = (props) => {\n  return (\n    <div className={s.item}>\n      <img src=\"https://imgix.bustle.com/uploads/image/2022/12/22/bc9d8fc7-5855-431a-820c-51ebeb6c7fcf-3e2ba297-d13b-4d9c-b91c-622b2c9a46dd-avatar-the-way-of-water612-4.jpg?w=350&fit=crop&crop=faces&auto=format%2Ccompress\" />\n      {props.message}\n      <div>\n        <span>{props.likeCount} like(s)</span>\n      </div>\n    </div>\n  );\n}\n\nexport default Post;","import React from 'react';\nimport s from './MyPosts.module.css';\nimport Post from './Post/Post';\nimport { Field, reduxForm } from 'redux-form';\nimport { required, maxLengthCreator } from '../../../utils/validators/validators';\nimport { TextArea } from '../../common/FormsControls/FormsControls';\n\nconst AddNewPostForm = (props) => {\n  return (\n    <form onSubmit={props.handleSubmit}>\n      <div>\n        <Field component={TextArea} name=\"newPost\" placeholder=\"Enter new post\" validate={[required, maxLengthCreator(15)]}/>\n      </div>\n      <div>\n        <button>Add post</button>\n      </div>\n    </form >\n  );\n}\n\nconst NewPostReduxForm = reduxForm({ form: 'addNewPostForm' })(AddNewPostForm);\n\nconst MyPosts = React.memo((props) => {\n\n  let postsElements = [...props.posts].reverse().map(p => <Post message={p.post} likeCount={p.likeCount} key={p.id} />);\n\n  const onSubmit = (formData) => {\n    props.addPost(formData.newPost);\n  }\n\n  return (\n    <div className={s.postBlock}>\n      <h3>My posts</h3>\n\n      <NewPostReduxForm onSubmit={onSubmit} />\n\n      <div className={s.posts}>\n        {postsElements}\n      </div>\n    </div>\n  );\n});\n\nexport default MyPosts;","import React from 'react';\nimport { addPostActionCreator } from '../../../redux/profile-reducer';\nimport MyPosts from './MyPosts';\nimport { connect } from 'react-redux';\n\nlet mapStateToProps = (state) => {\n  return {\n    posts: state.profilePage.posts,\n    newPostText: state.profilePage.newPostText\n\n  };\n}\nlet mapDispatchToProps = (dispatch) => {\n  return {\n    addPost: (newPost) => {\n      dispatch(addPostActionCreator(newPost));\n    }\n  };\n}\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\n\nexport default MyPostsContainer;","import React from 'react';\nimport s from './Profile.module.css';\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\n\nconst Profile = (props) => {\n  return (\n    <div>\n      <ProfileInfo isOwner={props.isOwner} \n                profile={props.profile} \n                status={props.status} \n                updateStatus={props.updateStatus}\n                savePhoto={props.savePhoto} />\n      <MyPostsContainer store={props.store} />\n    </div>\n  );\n}\n \nexport default Profile;","import React from 'react';\nimport Profile from './Profile';\nimport { connect } from 'react-redux';\nimport { getProfile, getStatus, updateStatus, savePhoto } from '../../redux/profile-reducer';\nimport { Navigate } from \"react-router-dom\";\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\nimport { compose } from 'redux';\nimport { withRouter } from '../../hoc/withRouter';\n\nclass ProfileContainer extends React.Component {\n\n  refreshProfile() {\n    let profileId = this.props.router.params.profileId;\n    if (!profileId) {\n      profileId = this.props.currentUserId;\n      if (!profileId) {\n        window.location.replace(\"/login\");\n        //return <Navigate to={\"/login\"} />\n      }\n\n    }\n    this.props.getProfile(profileId);\n    this.props.getStatus(profileId);\n  }\n\n  componentDidMount() {\n    this.refreshProfile();\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (this.props.router.params.profileId != prevProps.router.params.profileId) {\n      this.refreshProfile();\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <Profile {...this.props}\n            isOwner={!this.props.router.params.profileId}\n            profile={this.props.profile}\n            status={this.props.status}\n            updateStatus={this.props.updateStatus}\n            savePhoto={this.props.savePhoto} />\n      </div>\n    );\n  }\n}\n\nlet mapStateToProps = (state) => ({\n  profile: state.profilePage.profile,\n  currentUserId: state.auth.userId,\n  isAuth: state.auth.isAuth,\n  status: state.profilePage.status,\n});\n\nexport default compose(\n  withRouter,\n  //withAuthRedirect,\n  connect(mapStateToProps, { getProfile, getStatus, updateStatus, savePhoto })\n)(ProfileContainer);","import React from \"react\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\n\n// wrapper to use react router's v6 hooks in class component(to use HOC pattern, like in router v5)\nexport const withRouter = (Component) => {\n    function ComponentWithRouterProp(props) {\n      let location = useLocation();\n      let navigate = useNavigate();\n      let params = useParams();\n      return (\n        <Component\n          {...props}\n          router={{ location, navigate, params }}\n        />\n      );\n    }\n  \n    return ComponentWithRouterProp;\n  }"],"names":["props","editMode","setEditMode","useState","status","setStatus","useEffect","_jsxs","children","_jsx","onDoubleClick","activateEditMode","value","onBlur","deactivateEditMode","updateStatus","onChange","e","currentTarget","autoFocus","profile","Preloader","className","s","src","photos","large","defaultAvatar","isOwner","type","target","files","length","savePhoto","fullName","lookingForAJob","ProfileStatusWithHooks","contacts","github","vk","facebook","instagram","twitter","website","youtube","mainLink","message","likeCount","NewPostReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","TextArea","name","placeholder","validate","required","maxLengthCreator","React","postsElements","posts","reverse","map","p","Post","post","id","formData","addPost","newPost","connect","state","profilePage","newPostText","dispatch","addPostActionCreator","MyPosts","ProfileInfo","MyPostsContainer","store","ProfileContainer","refreshProfile","profileId","this","router","params","currentUserId","window","location","replace","getProfile","getStatus","componentDidMount","componentDidUpdate","prevProps","prevState","snapshot","render","Profile","compose","Component","useLocation","navigate","useNavigate","useParams","auth","userId","isAuth"],"sourceRoot":""}